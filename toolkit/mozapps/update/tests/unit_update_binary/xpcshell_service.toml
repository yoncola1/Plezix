[DEFAULT]
skip-if = [
  "os == 'win' && verify",
  "os == 'win' && ccov", # 1532801
  "os == 'win' && asan", # updater binary must be signed for these tests, but it isn't in this build config
  "os == 'win' && msix", # Updates are disabled for MSIX builds
]
dupe-manifest = true
tags = "appupdate service"
head = "head_service.js"
support-files = [
  "../data/shared.js",
  "../data/sharedUpdateXML.js",
  "../data/xpcshellUtilsAUS.js",
]

["bootstrapSvc.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["checkUpdaterSigSvc.js"]

["fallbackOnSvcFailure.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["invalidArgInstallDirPathTooLongFailure.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["invalidArgInstallDirPathTraversalFailure.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["invalidArgInstallWorkingDirPathNotSameFailure_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["invalidArgPatchDirPathSuffixFailure.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["invalidArgPatchDirPathTraversalFailure.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["invalidArgStageDirNotInInstallDirFailure_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["invalidArgWorkingDirPathLocalUNCFailure_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["invalidArgWorkingDirPathRelativeFailure.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marAppApplyDirLockedStageFailure_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marAppApplyUpdateAppBinInUseStageSuccess_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."
skip-if = ["ccov && os == 'win'"] #Bug 1651090

["marAppApplyUpdateStageSuccess.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marAppApplyUpdateSuccess.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marAppInUseBackgroundTaskFailure_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marAppInUseStageFailureComplete_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marAppInUseSuccessComplete.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marCallbackAppStageSuccessComplete_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marCallbackAppStageSuccessPartial_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marCallbackAppSuccessComplete_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marCallbackAppSuccessPartial_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marFailurePartial.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marFileInUseStageFailureComplete_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marFileInUseStageFailurePartial_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marFileInUseSuccessComplete_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marFileInUseSuccessPartial_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marFileLockedFailureComplete_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marFileLockedFailurePartial_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marFileLockedStageFailureComplete_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marFileLockedStageFailurePartial_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marRMRFDirFileInUseStageFailureComplete_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marRMRFDirFileInUseStageFailurePartial_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marRMRFDirFileInUseSuccessComplete_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marRMRFDirFileInUseSuccessPartial_win.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marStageFailurePartial.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marStageSuccessComplete.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marStageSuccessPartial.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marSuccessComplete.js"]
run-sequentially = "Uses the Plezix Maintenance Service."

["marSuccessPartial.js"]
run-sequentially = "Uses the Plezix Maintenance Service."
